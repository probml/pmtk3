function exportToGoogleCode(package, username, passwd, summary)
% Export package from svn, uploading the zip to the google code repository. 
%
% PACKAGE - name of svn directory
% USERNAME - Your google code username, e.g. mattbdunham
% PASSWD   - Your autogenerated google code password, access from
%            https://code.google.com/hosting/settings
% SUMMARY  - A summary of the version, to be displayed on the site. 

  %error(nargchk(3, 3, nargin));
  %pmtkRoot = [fileparts(mfilename('fullpath')),filesep,'..']
  %cd(pmtkRoot()); % move to pmtk3 root
  eval(sprintf('cd(%sRoot())', package))
  d = date(); d = d(d~='-');
  fname = [package,'-',d,'.zip'];
  fpath = fullfile(tempdir, fname)
  fprintf('Root directory is %s\n',pwd)
  fprintf('Exporting code to %s...\n', fname);
  exportsvn(pwd, fpath);
  
  fprintf('Uploading file...\n');
  %uploadFn = fullfile(pwd, 'util', 'googlecode_upload.py');
  uploadFn = fullfile(pmtk3Root(), 'util', 'googlecode_upload.py');
  fprintf('python %s -s "%s" -p "%s" -u %s -w %s "%s"', uploadFn, summary, package, username, passwd, fpath)
  result = systemf('python %s -s "%s" -p "%s" -u %s -w %s "%s"', uploadFn, summary, package, username, passwd, fpath)
  fprintf('Cleaning up...\n');  
  delete(fpath)  
  fprintf('Done\n\n')
  web(sprintf('http://code.google.com/p/%s/downloads/list',lower(package)), '-browser')
end